{"ast":null,"code":"var _jsxFileName = \"/Users/rayssamoreira/Documents/task-board/src/App.js\";\n// import React, { Component } from 'react';\n// import './css/style.css'\n// export default class App extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = { items: [], text: '' };\n//     this.handleChange = this.handleChange.bind(this);\n//     this.handleSubmit = this.handleSubmit.bind(this);\n//   }\n//   render() {\n//     return (\n//       <div className=\"painel-todo\">\n//         <h3>FAZER</h3>\n//         {this.state.items.map((item, index) => (\n//         <div key={item.id} className=\"grid-task\">\n//           <TodoList items={this.state.items} itemTxt={item.text}/>\n//             <div className=\"remove\">\n//               <button onClick={() => this.handleDelete(index)} index={index} className=\"btn-remove\">x</button>\n//             </div>\n//         </div>\n//         ))}\n//         <div>\n//         <form onSubmit={this.handleSubmit}>\n//           <label className=\"justify-content-center\" htmlFor=\"new-todo\">\n//             O que precisa ser feito?\n//           </label>\n//           <div className=\"justify-content-center\">\n//           <input \n//             id=\"new-todo\"\n//             onChange={this.handleChange}\n//             value={this.state.text}\n//           />\n//           </div>\n//           <div className=\"justify-content-center\">\n//           <button className=\"btn-black\">ADICIONAR</button>\n//           </div>\n//           <div>\n//             <p className=\"text\">\n//               Você tem {this.state.items.length + 0} tarefas para serem concluídas\n//             </p>\n//           </div>\n//         </form>\n//         </div>\n//       </div>\n//     );\n//   }\n//   handleChange(e) {\n//     this.setState({ text: e.target.value });\n//   }\n//   handleSubmit(e) {\n//     e.preventDefault();\n//     if (this.state.text.length === 0) {\n//       return;\n//     }\n//     console.log(this.state.text);\n//     const newItem = {\n//       text: this.state.text,\n//       id: Date.now()\n//     };\n//     this.setState(state => ({\n//       items: state.items.concat(newItem),\n//       text:''\n//     }));\n//   }\n//   handleDelete = itemId => {\n//     const items = this.state.items.filter(item => item.id !== itemId);\n//     this.setState({ items: items });\n//     console.log(itemId);\n//   }\n// }\n// class TodoList extends Component {\n//   render() {\n//     return (\n//         <ul>\n//           <div className=\"task\">{this.props.itemTxt}</div>\n//         </ul>\n//     );\n//   }\n// }\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport React, { Component } from \"react\";\nconst dataStructure = [// structure that models our initial rendered view of items\n[0, 1, 2], [3, 4, 5, 6, 7], [8, 9, 10, 11]];\n\nconst reinsert = (array, colFrom, rowFrom, colTo, rowTo) => {\n  const _array = array.slice(0);\n\n  const val = _array[colFrom][rowFrom];\n\n  _array[colFrom].splice(rowFrom, 1);\n\n  _array[colTo].splice(rowTo, 0, val);\n\n  calculateVisiblePositions(_array);\n  return _array;\n};\n\nconst gutterPadding = 21;\n\nconst clamp = (n, min, max) => Math.max(Math.min(n, max), min);\n\nconst getColumnWidth = () => window.innerWidth / dataStructure.length - gutterPadding / dataStructure.length; // spread columns over available window width\n\n\nconst height = 110; // crappy fixed item height :(\n\nlet width = getColumnWidth(),\n    layout = null; // items are ordered by their index in this visual positions array\n\nconst calculateVisiblePositions = newOrder => {\n  width = getColumnWidth();\n  layout = newOrder.map((column, col) => {\n    return _.range(column.length + 1).map((item, row) => {\n      return [width * col, height * row];\n    });\n  });\n}; // define spring motion opts\n\n\nconst springSetting1 = {\n  stiffness: 180,\n  damping: 10\n};\nconst springSetting2 = {\n  stiffness: 150,\n  damping: 16\n};\nconst List = React.createClass({\n  displayName: \"List\",\n\n  getInitialState() {\n    return {\n      mouse: [0, 0],\n      delta: [0, 0],\n      // difference between mouse and item position, for dragging\n      lastPress: null,\n      // key of the last pressed component\n      currentColumn: null,\n      isPressed: false,\n      order: dataStructure,\n      // index: visual position. value: component key/id\n      isResizing: false\n    };\n  },\n\n  componentWillMount() {\n    this.resizeTimeout = null;\n    calculateVisiblePositions(dataStructure);\n  },\n\n  componentDidMount() {\n    window.addEventListener('touchmove', this.handleTouchMove);\n    window.addEventListener('mousemove', this.handleMouseMove);\n    window.addEventListener('touchend', this.handleMouseUp);\n    window.addEventListener('mouseup', this.handleMouseUp);\n    window.addEventListener('resize', this.handleResize);\n  },\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n\n  handleTouchStart(key, currentColumn, pressLocation, e) {\n    this.handleMouseDown(key, currentColumn, pressLocation, e.touches[0]);\n  },\n\n  handleTouchMove(e) {\n    e.preventDefault();\n    this.handleMouseMove(e.touches[0]);\n  },\n\n  handleMouseMove({\n    pageX,\n    pageY\n  }) {\n    const {\n      order,\n      lastPress,\n      currentColumn: colFrom,\n      isPressed,\n      delta: [dx, dy]\n    } = this.state;\n\n    if (isPressed) {\n      const mouse = [pageX - dx, pageY - dy];\n      const colTo = clamp(Math.floor((mouse[0] + width / 2) / width), 0, 2);\n      const rowTo = clamp(Math.floor((mouse[1] + height / 2) / height), 0, 100);\n      const rowFrom = order[colFrom].indexOf(lastPress);\n      const newOrder = reinsert(order, colFrom, rowFrom, colTo, rowTo);\n      this.setState({\n        mouse,\n        order: newOrder,\n        currentColumn: colTo\n      });\n    }\n  },\n\n  handleMouseDown(key, currentColumn, [pressX, pressY], {\n    pageX,\n    pageY\n  }) {\n    this.setState({\n      lastPress: key,\n      currentColumn,\n      isPressed: true,\n      delta: [pageX - pressX, pageY - pressY],\n      mouse: [pressX, pressY]\n    });\n  },\n\n  handleMouseUp() {\n    this.setState({\n      isPressed: false,\n      delta: [0, 0]\n    });\n  },\n\n  handleResize() {\n    clearTimeout(this.resizeTimeout);\n    this.applyResizingState(true); // resize one last time after resizing stops, as sometimes this can be a little janky sometimes...\n\n    this.resizeTimeout = setTimeout(() => this.applyResizingState(false), 100);\n  },\n\n  applyResizingState(isResizing) {\n    this.setState({\n      isResizing\n    });\n    calculateVisiblePositions(dataStructure);\n  },\n\n  render() {\n    const {\n      order,\n      lastPress,\n      currentColumn,\n      isPressed,\n      mouse,\n      isResizing\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"items\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, order.map((column, colIndex) => {\n      return column.map(row => {\n        let style,\n            x,\n            y,\n            visualPosition = order[colIndex].indexOf(row),\n            isActive = row === lastPress && colIndex === currentColumn && isPressed;\n\n        if (isActive) {\n          [x, y] = mouse;\n          style = {\n            translateX: x,\n            translateY: y,\n            scale: ReactMotion.spring(1.1, springSetting1)\n          };\n        } else if (isResizing) {\n          [x, y] = layout[colIndex][visualPosition];\n          style = {\n            translateX: x,\n            translateY: y,\n            scale: 1\n          };\n        } else {\n          [x, y] = layout[colIndex][visualPosition];\n          style = {\n            translateX: ReactMotion.spring(x, springSetting2),\n            translateY: ReactMotion.spring(y, springSetting2),\n            scale: ReactMotion.spring(1, springSetting1)\n          };\n        }\n\n        return React.createElement(ReactMotion.Motion, {\n          key: row,\n          style: style,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253\n          },\n          __self: this\n        }, ({\n          translateX,\n          translateY,\n          scale\n        }) => React.createElement(\"div\", {\n          onMouseDown: this.handleMouseDown.bind(null, row, colIndex, [x, y]),\n          onTouchStart: this.handleTouchStart.bind(null, row, colIndex, [x, y]),\n          className: isActive ? 'item is-active' : 'item',\n          style: {\n            WebkitTransform: `translate3d(${translateX}px, ${translateY}px, 0) scale(${scale})`,\n            transform: `translate3d(${translateX}px, ${translateY}px, 0) scale(${scale})`,\n            zIndex: row === lastPress && colIndex === currentColumn ? 99 : visualPosition\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255\n          },\n          __self: this\n        }, \"Item \", row + 1));\n      });\n    }));\n  }\n\n});","map":{"version":3,"sources":["/Users/rayssamoreira/Documents/task-board/src/App.js"],"names":["React","Component","dataStructure","reinsert","array","colFrom","rowFrom","colTo","rowTo","_array","slice","val","splice","calculateVisiblePositions","gutterPadding","clamp","n","min","max","Math","getColumnWidth","window","innerWidth","length","height","width","layout","newOrder","map","column","col","_","range","item","row","springSetting1","stiffness","damping","springSetting2","List","createClass","getInitialState","mouse","delta","lastPress","currentColumn","isPressed","order","isResizing","componentWillMount","resizeTimeout","componentDidMount","addEventListener","handleTouchMove","handleMouseMove","handleMouseUp","handleResize","componentWillUnmount","removeEventListener","handleTouchStart","key","pressLocation","e","handleMouseDown","touches","preventDefault","pageX","pageY","dx","dy","state","floor","indexOf","setState","pressX","pressY","clearTimeout","applyResizingState","setTimeout","render","colIndex","style","x","y","visualPosition","isActive","translateX","translateY","scale","ReactMotion","spring","bind","WebkitTransform","transform","zIndex"],"mappings":"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","sourcesContent":["// import React, { Component } from 'react';\n// import './css/style.css'\n\n// export default class App extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = { items: [], text: '' };\n//     this.handleChange = this.handleChange.bind(this);\n//     this.handleSubmit = this.handleSubmit.bind(this);\n//   }\n\n//   render() {\n//     return (\n//       <div className=\"painel-todo\">\n//         <h3>FAZER</h3>\n//         {this.state.items.map((item, index) => (\n          \n//         <div key={item.id} className=\"grid-task\">\n//           <TodoList items={this.state.items} itemTxt={item.text}/>\n//             <div className=\"remove\">\n//               <button onClick={() => this.handleDelete(index)} index={index} className=\"btn-remove\">x</button>\n//             </div>\n//         </div>\n//         ))}\n        \n//         <div>\n//         <form onSubmit={this.handleSubmit}>\n//           <label className=\"justify-content-center\" htmlFor=\"new-todo\">\n//             O que precisa ser feito?\n//           </label>\n\n//           <div className=\"justify-content-center\">\n//           <input \n//             id=\"new-todo\"\n//             onChange={this.handleChange}\n//             value={this.state.text}\n//           />\n//           </div>\n\n//           <div className=\"justify-content-center\">\n//           <button className=\"btn-black\">ADICIONAR</button>\n//           </div>\n\n//           <div>\n//             <p className=\"text\">\n//               Você tem {this.state.items.length + 0} tarefas para serem concluídas\n//             </p>\n//           </div>\n\n//         </form>\n//         </div>\n//       </div>\n//     );\n//   }\n\n//   handleChange(e) {\n//     this.setState({ text: e.target.value });\n//   }\n\n//   handleSubmit(e) {\n//     e.preventDefault();\n//     if (this.state.text.length === 0) {\n//       return;\n//     }\n//     console.log(this.state.text);\n//     const newItem = {\n//       text: this.state.text,\n//       id: Date.now()\n//     };\n//     this.setState(state => ({\n//       items: state.items.concat(newItem),\n//       text:''\n//     }));\n//   }\n\n//   handleDelete = itemId => {\n//     const items = this.state.items.filter(item => item.id !== itemId);\n//     this.setState({ items: items });\n//     console.log(itemId);\n//   }\n  \n// }\n\n// class TodoList extends Component {\n//   render() {\n//     return (\n//         <ul>\n//           <div className=\"task\">{this.props.itemTxt}</div>\n//         </ul>\n//     );\n//   }\n// }\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport React, { Component } from \"react\";\nconst dataStructure = [ // structure that models our initial rendered view of items\n  [0, 1, 2],\n  [3, 4, 5, 6, 7],\n  [8, 9, 10, 11]\n]\n\nconst reinsert = (array, colFrom, rowFrom, colTo, rowTo) => {\n  const _array = array.slice(0);\n  const val = _array[colFrom][rowFrom];\n  _array[colFrom].splice(rowFrom, 1);\n  _array[colTo].splice(rowTo, 0, val);\n  calculateVisiblePositions(_array);\n  return _array;\n}\n\nconst gutterPadding = 21;\nconst clamp = (n, min, max) => Math.max(Math.min(n, max), min);\nconst getColumnWidth = () => (window.innerWidth / dataStructure.length) - (gutterPadding / dataStructure.length); // spread columns over available window width\nconst height = 110; // crappy fixed item height :(\n\nlet width = getColumnWidth(),\n  layout = null;\n\n// items are ordered by their index in this visual positions array\nconst calculateVisiblePositions = (newOrder) => {\n  width = getColumnWidth();\n  layout = newOrder.map((column, col) => {\n     return _.range(column.length + 1).map((item, row) => {\n         return [width * col, height * row];\n     });\n });\n}\n\n// define spring motion opts\nconst springSetting1 = {stiffness: 180, damping: 10};\nconst springSetting2 = {stiffness: 150, damping: 16};\n\nconst List = React.createClass({\n  getInitialState() {\n      return {\n          mouse: [0, 0],\n          delta: [0, 0], // difference between mouse and item position, for dragging\n          lastPress: null, // key of the last pressed component\n          currentColumn: null,\n          isPressed: false,\n          order: dataStructure, // index: visual position. value: component key/id\n          isResizing: false\n      };\n  },\n\n  componentWillMount() {\n      this.resizeTimeout = null;\n      calculateVisiblePositions(dataStructure);\n  },\n\n  componentDidMount() {\n      window.addEventListener('touchmove', this.handleTouchMove);\n      window.addEventListener('mousemove', this.handleMouseMove);\n      window.addEventListener('touchend', this.handleMouseUp);\n      window.addEventListener('mouseup', this.handleMouseUp);\n      window.addEventListener('resize', this.handleResize);\n  },\n\n  componentWillUnmount() {\n      window.removeEventListener('resize', this.handleResize);\n  },\n\n  handleTouchStart(key, currentColumn, pressLocation, e) {\n      this.handleMouseDown(key, currentColumn, pressLocation, e.touches[0]);\n  },\n\n  handleTouchMove(e) {\n      e.preventDefault();\n      this.handleMouseMove(e.touches[0]);\n  },\n\n  handleMouseMove({pageX, pageY}) {\n      const {order, lastPress, currentColumn: colFrom, isPressed, delta: [dx, dy]} = this.state;\n      if (isPressed) {\n          const mouse = [pageX - dx, pageY - dy];\n          const colTo = clamp(Math.floor((mouse[0] + (width / 2)) / width), 0, 2);\n          const rowTo = clamp(Math.floor((mouse[1] + (height / 2)) / height), 0, 100);\n          const rowFrom = order[colFrom].indexOf(lastPress);\n          const newOrder = reinsert(order, colFrom, rowFrom, colTo, rowTo);\n          this.setState({\n              mouse,\n              order: newOrder,\n              currentColumn: colTo\n          });\n      }\n  },\n\n  handleMouseDown(key, currentColumn, [pressX, pressY], {pageX, pageY}) {\n      this.setState({\n          lastPress: key,\n          currentColumn,\n          isPressed: true,\n          delta: [pageX - pressX, pageY - pressY],\n          mouse: [pressX, pressY],\n      });\n  },\n\n  handleMouseUp() {\n      this.setState({\n          isPressed: false,\n          delta: [0, 0]\n      });\n  },\n\n  handleResize() {\n      clearTimeout(this.resizeTimeout);\n      this.applyResizingState(true);\n      // resize one last time after resizing stops, as sometimes this can be a little janky sometimes...\n      this.resizeTimeout = setTimeout(() => this.applyResizingState(false), 100);\n  },\n\n  applyResizingState(isResizing) {\n      this.setState({ isResizing });\n      calculateVisiblePositions(dataStructure);\n  },\n\n  render() {\n      const { order, lastPress, currentColumn, isPressed, mouse, isResizing } = this.state;\n      return (\n          <div className=\"items\">\n              {order.map( (column, colIndex) => {\n                  return (\n                      column.map( (row) => {\n                          let style,\n                              x,\n                              y,\n                              visualPosition = order[colIndex].indexOf(row),\n                              isActive = (row === lastPress && colIndex === currentColumn && isPressed);\n\n                          if(isActive) {\n                              [x, y] = mouse;\n                              style = {\n                                  translateX: x,\n                                  translateY: y,\n                                  scale: ReactMotion.spring(1.1, springSetting1)\n                              };\n                          } else if(isResizing) {\n                              [x, y] = layout[colIndex][visualPosition];\n                              style = {\n                                  translateX: x,\n                                  translateY: y,\n                                  scale: 1\n                              };\n                          } else {\n                              [x, y] = layout[colIndex][visualPosition];\n                              style = {\n                                  translateX: ReactMotion.spring(x, springSetting2),\n                                  translateY: ReactMotion.spring(y, springSetting2),\n                                  scale: ReactMotion.spring(1, springSetting1)\n                              };\n                          }\n\n                          return (\n                              <ReactMotion.Motion key={row} style={style}>\n                                  {({translateX, translateY, scale}) =>\n                                  <div\n                                      onMouseDown={this.handleMouseDown.bind(null, row, colIndex, [x, y])}\n                                      onTouchStart={this.handleTouchStart.bind(null, row, colIndex, [x, y])}\n                                      className={isActive ? 'item is-active' : 'item'}\n                                      style={{\n                                          WebkitTransform: `translate3d(${translateX}px, ${translateY}px, 0) scale(${scale})`,\n                                          transform: `translate3d(${translateX}px, ${translateY}px, 0) scale(${scale})`,\n                                          zIndex: (row === lastPress && colIndex === currentColumn) ? 99 : visualPosition,\n                                      }}>Item {row + 1}</div>\n                                  }\n                              </ReactMotion.Motion>\n                          )\n                      })\n                  )\n              })}\n          </div>\n      )\n  }\n});\n"]},"metadata":{},"sourceType":"module"}